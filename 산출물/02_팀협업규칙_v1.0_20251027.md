# 학생 역량 관리 시스템 - 팀 협업 규칙

> 작성일 : 2025-10-27
> 버전 : 1.0
> 팀명 :

---

## 목차
1. [Git 브랜치 전략](#git-브랜치-전략)
2. [커밋 컨벤션](#커밋-컨벤션)
3. [코드 리뷰 프로세스](#코드-리뷰-프로세스)
4. [PR 규칙](#pr-규칙)
5. [코딩 컨벤션](#코딩-컨벤션)
6. [일일 스크럼](#일일-스크럼)
7. [산출물 관리](#산출물-관리)

---

## Git 브랜치 전략

### 브랜치 구조

main (프로덕션)
    |
   \|/
develop (개발 통합)
    |
   \|/
feature/기능명 (개별 기능)
    |
   \|/
hotfix/이슈명 (긴급 수정)

### 브랜치 명명 규칙
- **main** : 배포 가능한 프로덕션 코드 (보호 브랜치)
- **develop**: 개발 중인 최신 코드 (기본 브랜치)
- **feature/기능명**: 새로운 기능 개발
  - 예: `feature/program-registration`
  - 예: `feature/competency-test`
- **hotfix/이슈명**: 긴급 버그 수정
  - 예: `hotfix/login-error`

### 브랜치 작업 흐름
1. `develop` 브랜치에서 `feature` 브랜치 생성
2. 작업 완료 후 `feature` 브랜치에 커밋
3. GitHub에서 Pull Request 생성 (`feature` → `develop`)
4. 코드 리뷰 및 승인 후 머지
5. 머지 완료된 `feature` 브랜치 삭제

### 브랜치 보호 규칙
- **main 브랜치**
- 직접 커밋 금지
- PR 필수, 최소 2명 승인 필요
- CI/CD 통과 필수

- **develop 브랜치**
- 직접 커밋 금지
- PR 필수, 최소 1명 승인 필요

---

## ✍️ 커밋 컨벤션

### 커밋 메시지 구조


### Type 종류
| Type     | 설명                                    | 예시                              |
|----------|-----------------------------------------|-----------------------------------|
| feat     | 새로운 기능 추가                         | feat: 비교과 프로그램 등록 API    |
| fix      | 버그 수정                                | fix: 로그인 시 NPE 오류 수정      |
| docs     | 문서 수정 (README, 주석 등)              | docs: API 명세서 업데이트         |
| style    | 코드 포맷팅 (세미콜론, 들여쓰기)          | style: 코드 포맷팅 적용           |
| refactor | 코드 리팩토링 (기능 변경 없음)            | refactor: Service 로직 분리       |
| test     | 테스트 코드 추가/수정                     | test: ProgramService 단위 테스트  |
| chore    | 빌드 설정, 라이브러리 업데이트            | chore: Spring Boot 3.2.0 업그레이드|
| perf     | 성능 개선                                | perf: 인덱스 추가로 조회 속도 개선|

### Subject 작성 규칙
1. **50자 이내**로 작성
2. **마침표 금지**
3. **명령문** 사용 (과거형 X)
   - 좋은 예: "add user login feature"
   - 나쁜 예: "added user login feature"
4. **첫 글자 소문자** (type 다음 소문자)

### Body 작성 규칙
- 선택 사항이지만 **복잡한 변경**은 설명 권장
- **무엇을, 왜** 했는지 작성 (어떻게는 코드에서 확인)
- 72자마다 줄바꿈

### Footer 작성 규칙
- 이슈 트래커 ID 명시
- 형식: `Closes #이슈번호` 또는 `Fixes #이슈번호`

### 커밋 메시지 예시
- 간단한 커밋
    - 'feat: 비교과 프로그램 목록 조회 API 구현'

- 상세 커밋
    - 'feat: 비교과 프로그램 신청 기능 구현
        학생이 비교과 프로그램에 신청할 수 있는 기능을 추가했습니다.
        정원 초과 시 예외 처리
        중복 신청 방지 로직 추가
        신청 시 마일리지 자동 적립'

- 버그 수정
    - 'fix: 로그인 시 비밀번호 검증 오류 수정
        BCryptPasswordEncoder 빈 주입 누락으로 인한 오류 수정'

---

## 👀 코드 리뷰 프로세스

### 코드 리뷰 대상
**필수 리뷰:**
- Entity 및 Repository
- Controller 및 Service 로직
- Security 설정
- 공통 모듈 (Exception Handler, Config)

**선택 리뷰:**
- 단순 오타 수정
- 문서 업데이트
- 개인 테스트 코드

### 리뷰어 지정
- PR 생성 시 **작성자 제외 전원**
- 공통 모듈은 **PM 필수 리뷰**

### 리뷰 응답 시간
- **24시간 이내** 리뷰 완료
- 긴급한 경우 Kakao Talk으로 알림

### 리뷰 코멘트 가이드
**좋은 코멘트:**
- "변수명을 `programList`보다 `availablePrograms`가 더 명확할 것 같아요."
- "이 메서드는 단위 테스트가 필요해 보입니다."
- "Optional을 사용하면 NPE를 방지할 수 있습니다."

**나쁜 코멘트:**
- "이거 왜 이렇게 했어요?" (공격적)
- "잘 모르겠어요." (구체적이지 않음)

### 리뷰 승인 기준
✅ 모든 리뷰 코멘트 해결
✅ 빌드 성공
✅ 컨벤션 준수
✅ 테스트 코드 존재 (가능한 경우)

---

## 🔀 PR(Pull Request) 규칙

### PR 생성 시점
- 기능 개발 완료 후 즉시
- 작은 단위로 자주 PR (Big PR 지양)

### PR 제목 규칙
- [Type] 간단한 설명 #이슈번호

**예시:**
- `[Feat] 비교과 프로그램 등록 API 구현 #12`
- `[Fix] 로그인 세션 만료 오류 수정 #25`

### PR 승인 규칙
- **develop 브랜치**: 최소 2명 승인
- **main 브랜치**: 작성자 제외 전원 승인 + PM 필수

### 머지 방법
- **Squash and Merge** 사용 (커밋 히스토리 정리)
- 머지 후 브랜치 자동 삭제 설정

---

## 💻 코딩 컨벤션

### Java 코드 스타일
**Google Java Style Guide** 기반

#### 네이밍 규칙
| 대상           | 컨벤션         | 예시                      |
|----------------|---------------|---------------------------|
| 패키지         | snake_case    | `com.university.scms`     |
| 클래스         | PascalCase    | `ExtracurricularProgram`  |
| 메서드         | camelCase     | `getProgramById()`        |
| 변수           | camelCase     | `programList`             |
| 상수           | UPPER_SNAKE   | `MAX_CAPACITY`            |
| Enum           | PascalCase    | `ProgramStatus`           |

#### 메서드 명명 규칙
- **조회**: `get`, `find`
  - `getProgramById(Long id)`
  - `findAllPrograms()`
- **생성**: `create`, `add`
  - `createProgram(ProgramRequest request)`
- **수정**: `update`
  - `updateProgram(Long id, ProgramRequest request)`
- **삭제**: `delete`
  - `deleteProgram(Long id)`
- **검증**: `validate`, `is`
  - `validateCapacity()`
  - `isAvailable()`

### 파일 구조
src/main/java/com/university/scms/
├── config/ # 설정 클래스
├── controller/ # REST Controller
├── service/ # 비즈니스 로직
├── repository/ # JPA Repository
├── domain/ # Entity
├── dto/ # DTO
│ ├── request/ # 요청 DTO
│ └── response/ # 응답 DTO
├── exception/ # 예외 클래스
└── common/ # 공통 유틸

### 주석 규칙
- 복잡한 로직은 **인라인 주석**으로 설명
- 당연한 내용은 주석 금지
- 간단한 기능 설명 필수

// 나쁜 예
int count = 0; // 카운트를 0으로 초기화

// 좋은 예
// 정원 초과 시 대기 목록에 추가
if (program.getCurrentParticipants() >= program.getCapacity()) {
addToWaitingList(student, program);
}


### 코드 포맷팅
- **들여쓰기**: 스페이스 4칸
- **줄 길이**: 최대 120자
- **중괄호**: K&R 스타일
if (condition) {
// code
}


---

## 🗣️ 일일 스크럼

### 스크럼 형식
[이름]
✅ 어제 한 일:

비교과 프로그램 Entity 설계 완료

Repository 인터페이스 구현

🎯 오늘 할 일:

ProgramService 로직 구현

단위 테스트 작성

🚧 블로킹 이슈:

JPA 연관관계 매핑 시 LazyInitializationException 발생

OOO님께 도움 요청 예정


### 스크럼 시간
- **매일 오후 17:30** (주말 제외)
- **15분**
- 대면

### 스크럼 진행 방식
1. 팀장이 시작 선언
2. 각자 순서대로 발표 (2-3분)
3. 블로킹 이슈는 스크럼 후 별도 논의

### 스크럼 기록
- 매일 기록
- 형식: `Daily-Scrum-YYYYMMDD.md`

---

## 📂 산출물 관리

### 저장 위치
- **코드**: GitHub Repository

### 파일 명명 규칙
[카테고리]_[문서명]v[버전][날짜].[확장자]

**예시:**
- `기획_요구사항정의서_v1.0_20251027.xlsx`
- `설계_ERD_v2.1_20251029.drawio`
- `발표_최종발표자료_v1.0_20251205.pptx`

### 버전 관리 규칙
- **v1.0**: 최초 작성
- **v1.1**: 소규모 수정
- **v2.0**: 대규모 개편
- **_final**: 최종 확정본

### 문서 업데이트 알림
- 페이지 업데이트 시 Kakao Talk에 공지
- 중요 문서는 팀원 태그

---

## ⚠️ 금지 사항
❌ main 브랜치에 직접 커밋  
❌ 한글 커밋 메시지 (영문 권장)  
❌ `git push --force` 사용 (리베이스 후 제외)  
❌ 대용량 파일 (이미지, 영상) 직접 커밋 (.gitignore 활용)  
❌ 민감 정보 (DB 비밀번호, API 키) 커밋  
❌ 리뷰 없이 PR 승인  

---

## 📞 문의 및 건의
- Kakao Talk

---

**마지막 업데이트**: 2025-10-27  
**작성자**: [조수아]
